webpackJsonp([1],{"1uuo":function(t,e){},"7TUX":function(t,e,s){"use strict";(function(t){s("vZNG");e.a={name:"",mixins:[],extends:{},components:{},props:["errMsg"],data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){setTimeout(function(){t("body").removeClass("loading")},1e3)},updated:function(){},beforeDestroy:function(){},methods:{}}}).call(e,s("7t+N"))},CId6:function(t,e){},Dtay:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"TalionNav"}},[t._m(0),t._v(" "),i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",name:"search",placeholder:"Search"},domProps:{value:t.query},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search()},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("img",{staticClass:"search-btn",attrs:{src:s("mryP")},on:{click:function(e){t.search()}}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"TalionNav"},[e("div",{staticClass:"TalionNav-primary"},[e("nav",[e("ul",[e("li",[e("a",{staticStyle:{color:"#2384E8"},attrs:{href:"#/movies"}},[this._v("電影")])]),this._v(" "),e("li",[e("a",{staticStyle:{color:"#9F7860"},attrs:{href:"#/attractions"}},[this._v("景點")])])]),this._v(" "),e("span",{staticClass:"search"})])])])}]};var a={name:"App",components:{vHeader:s("VU/8")({data:function(){return{query:"",placeholder:"",path:"/movie/search"}},mounted:function(){},methods:{search:function(){this.$router.push({path:this.path,query:{mName:this.query}}),this.query=""}}},n,!1,function(t){s("u34i")},"data-v-2d4f2e33",null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")(a,r,!1,function(t){s("Dtay")},null,null).exports,c=s("/ocq"),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var v=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},l,!1,function(t){s("1uuo")},"data-v-d8ec41bc",null).exports,u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("svg",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"spinner",class:{show:this.show},attrs:{width:"68px",height:"68px",viewBox:"0 0 44 44"}},[e("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns:[]};var m=s("VU/8")({props:["show"]},u,!1,function(t){s("lHhn")},null,null).exports,d=s("vZNG"),h={components:{Spinner:m},data:function(){return{loading:!0,id:"",movie:{}}},computed:{},mounted:function(){var t=this;this.id=this.$route.params.id,console.log("id=",this.id),Object(d.c)(this.id).then(function(e){t.movie=e,console.log("movie=",t.movie),t.loading=!1,5e3===t.movie.code&&t.$router.push({name:"error",params:{result:t.movie.code,errMsg:t.movie.msg}})})},method:{}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.movie.id?s("div",{staticClass:"detail-card"},[s("div",{staticClass:"title"},[t._v(t._s(t.movie.title)+" "+t._s(t.movie.original_title?t.movie.original_title:""))]),t._v(" "),s("img",{staticClass:"img-show",attrs:{src:t.movie.images.large}}),t._v(" "),s("div",{staticClass:"subject-mark"},[s("div",{staticClass:"mark-item"},[s("a",[s("span",[t._v("想看("+t._s(t.movie.wish_count)+")")])]),t._v(" "),s("a",[s("span",[t._v("評價("+t._s(t.movie.reviews_count)+")")])])])]),t._v(" "),s("span",[t._v(t._s(t.movie.rating.average)+" / "+t._s(t.movie.rating.max))]),t._v(" "),s("div",{staticClass:"star-rating"},[s("div",{staticClass:"star-rating-top",style:{width:t.movie.rating.average/t.movie.rating.max*100+"%"}},[s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span")]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticStyle:{"text-align":"left"}},t._l(t.movie.casts,function(e){return s("li",{key:e.id},[t._v(t._s(e.name))])}),0),t._v(" "),s("div",{staticClass:"subject-intro"},[s("h2",{},[t._v("劇情簡介")]),t._v(" "),s("span",{staticClass:"bd"},[t._v(t._s(t.movie.summary))])])]):t._e(),t._v(" "),s("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"star-rating-bottom"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span")])}]};var p=s("VU/8")(h,_,!1,function(t){s("lnla"),s("Swz3")},"data-v-2e9c9a1d",null).exports,f=s("bqTm"),g=s.n(f),b={components:{Spinner:m},directives:{InfiniteScroll:g.a},data:function(){return{loading:!0,type:"",movieList:{subjects:[]},busy:!1,isScroll:!1}},computed:{},mounted:function(){this.type=this.$route.query.type},methods:{loadMore:function(){var t=this,e=this.movieList.subjects.length;this.busy=!0,this.isScroll=!0,Object(d.d)(this.type,e).then(function(e){t.movieList.title=e.title,t.movieList.total=e.total,t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.subjects.length<t.movieList.total&&(t.busy=!1),t.loading=!1,t.isScroll=!1})}},destroyed:function(){}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"grid has-search-bar",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[s("h2",[t._v(t._s(t.movieList.title))]),t._v(" "),t.movieList.subjects.length>0?s("div",{staticClass:"card"},t._l(t.movieList.subjects,function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"wp"},[s("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(e.title))])])])}),1):t._e(),t._v(" "),s("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[]},y=s("VU/8")(b,C,!1,null,null,null).exports,w={components:{spinner:m},data:function(){return{loading:!0,inTheater:{type:""},cominigSoon:{type:""}}},computed:{},mounted:function(){var t=this;console.log("API_TYPE.movie.in_theaters"),Object(d.d)(d.a.movie.in_theaters,"0","9",this).then(function(e){t.inTheater=e,t.inTheater.type=d.a.movie.in_theaters,t.loading=!1,console.log("inTheater=",t.inTheater)}),console.log("$route",this.$route.path),Object(d.d)(d.a.movie.coming_soon,"0","9",this).then(function(e){t.cominigSoon=e,t.cominigSoon.type=d.a.movie.coming_soon,t.loading=!1,console.log("comingSoon=",t.cominigSoon)})},updated:function(){},destroyed:function(){}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"grid has-search-bar"},[t.inTheater.title?s("div",[s("h2",[t._v(t._s(t.inTheater.title)+"\n      "),s("router-link",{staticClass:"more btn btn-warning",attrs:{tag:"span",to:{name:"movieList",query:{type:t.inTheater.type}}}},[t._v("更多")])],1),t._v(" "),s("div",{staticClass:"card"},t._l(t.inTheater.subjects,function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"wp"},[s("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(e.title))])])])}),1)]):t._e(),t._v(" "),t.cominigSoon.title?s("div",[s("h2",[t._v(t._s(t.cominigSoon.title)+"\n      "),s("router-link",{staticClass:"more btn btn-warning",attrs:{tag:"span",to:{name:"movieList",query:{type:t.cominigSoon.type}}}},[t._v("更多")])],1),t._v(" "),s("div",{staticClass:"card"},t._l(t.cominigSoon.subjects,function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"wp"},[s("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(e.title))])])])}),1)]):t._e(),t._v(" "),s("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[]},A=s("VU/8")(w,j,!1,null,null,null).exports,k=s("7TUX"),x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("body",{staticClass:"loading"},[s("h1",[t._v("Opps")]),s("button",{on:{click:t.test}},[t._v("test")]),t._v(" "),s("h2",[t._v("\r\n    "+t._s(t.errMsg?t.errMsg:"發生錯誤")+"\r\n    "),s("b",[t._v(":(")])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gears"},[s("div",{staticClass:"gear one"},[s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"})]),t._v(" "),s("div",{staticClass:"gear two"},[s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"})]),t._v(" "),s("div",{staticClass:"gear three"},[s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"}),t._v(" "),s("div",{staticClass:"bar"})])])}]};var L=function(t){s("CId6")},$=s("VU/8")(k.a,x,!1,L,null,null).exports,E=s("Xxa5"),S=s.n(E),N=s("exGp"),U=s.n(N),T={components:{spinner:m},directives:{},data:function(){return{query:"",movieList:{subjects:[]},busy:!1,loading:!0}},computed:{},mounted:function(){this.query=this.$route.query.mName,console.log("this.$route.query.mName:",this.$route.query.mName)},methods:{loadMore:function(){var t=this;return U()(S.a.mark(function e(){var s,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.movieList.subjects.length,console.log("start",s),t.loading=!0,console.log("start",t.start),e.next=6,Object(d.e)(t.query,s);case 6:i=e.sent,console.log("data:",i),t.movieList.title=i.title,t.movieList.total=i.total,t.movieList.subjects=t.movieList.subjects.concat(i.subjects),console.log("this.movieList:",t.movieList),t.loading=!1;case 13:case"end":return e.stop()}},e,t)}))()}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"grid has-search-bar",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[t._v("search-List\n  "),s("div",[s("h2",[t._v(t._s(t.movieList.title))]),t._v(" "),t.movieList.subjects.length>0?s("div",{staticClass:"card"},t._l(t.movieList.subjects,function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"wp"},[s("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(e.title))])])])}),1):t._e()]),t._v(" "),s("spinner",{staticStyle:{"margin-top":"25%"},attrs:{show:t.loading}})],1)},staticRenderFns:[]},V=s("VU/8")(T,q,!1,null,null,null).exports,R={components:{spinner:m},data:function(){return{loading:!0,attractions:{Infos:{}}}},mounted:function(){this.init()},methods:{init:function(){var t=this;return U()(S.a.mark(function e(){var s;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)();case 2:s=e.sent,t.attractions=s.data.XML_Head,t.loading=!1;case 5:case"end":return e.stop()}},e,t)}))()}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("spinner",{attrs:{show:t.loading}}),t._v(" "),s("div",{staticClass:"grid has-search-bar"},[t.attractions?s("div",t._l(t.attractions.Infos.Info,function(e){return s("div",{key:e.Id,staticClass:"card"},[s("div",{staticClass:"cover"},[s("div",{staticClass:"wp"},[s("img",{staticClass:"img-show",attrs:{src:e.Picture}})])]),t._v(" "),s("div",{staticClass:"info"},[t._v(t._s(e.Name))])])}),0):t._e()])],1)},staticRenderFns:[]},F=s("VU/8")(R,M,!1,null,null,null).exports;i.a.use(c.a);var I=new c.a({routes:[{path:"/",name:"HelloWorld",component:v},{path:"/movies",name:"movies",component:A},{path:"/movieDetail",name:"movie-detail",component:p},{path:"/movieList",name:"movieList",component:y},{path:"/error",name:"error",props:!0,component:$},{path:"/movie/search",name:"search",props:!0,component:V},{path:"/attractions",name:"attractions",props:!0,component:F}]});i.a.use(g.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:I,components:{App:o},template:"<App/>"})},Swz3:function(t,e){},lHhn:function(t,e){},lnla:function(t,e){},mryP:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAMAAABFNRROAAAALVBMVEX6+vr19fX9/f37+/v+/v75+fni4+L39/fx8/Hm5+br7Ovb29v////V1dX///98IJfXAAAAD3RSTlP//////////////////wDU3JihAAAAXUlEQVR42j3K0Q7AIAhDUedEoVj+/3MHLtt9aU7SFqHmbhpVC/CEIyVN1UgtGe3uPWeWnNfYY1z0Erl2tsjSJBID7xN0iMCJUhjf/CgwyQlPlkJEWlvJ1FdSUz8RD5YjB2QIqEc+AAAAAElFTkSuQmCC"},u34i:function(t,e){},vZNG:function(t,e,s){"use strict";e.b=async function(){return await n()("/attractions")},e.d=function(t,e=0,s=20,i){return function(t,e){return r(t)}(`/movie/${t}?start=${e}&count=${s}`)},e.c=function(t,e){return r(`/movie/subject/${t}`)},e.e=function(t,e=0,s){return r(encodeURI(`/movie/search?q=${t}&start=${e}`))};var i=s("mtWM"),n=s.n(i);const a="http://localhost:8081";function r(t){return new Promise((e,s)=>{n.a.get("/api"+t).then(s=>{console.log("URL=",a+t),e(s.data)})})}e.a={movie:{in_theaters:"in_theaters",coming_soon:"coming_soon"}}}},["NHnr"]);
//# sourceMappingURL=app.d3abdc191d9d53313336.js.map